<!doctype html><html lang=en data-theme><head><title>Adam Mitha | Tackling Backtracking Search</title><meta charset=utf-8><meta name=generator content="Hugo 0.81.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="Software Developer"><link rel=stylesheet href=https://adammitha.com/css/style.min.0c643de4008adca329f7a2d616ce308cca99d4ef45e4cca307323e7857910194.css integrity="sha256-DGQ95ACK3KMp96LWFs4wjMqZ1O9F5MyjBzI+eFeRAZQ=" crossorigin=anonymous type=text/css><link rel=stylesheet href=https://adammitha.com/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS+yuWSR4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=https://adammitha.com/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=https://adammitha.com/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://adammitha.com/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://adammitha.com/favicons/favicon-16x16.png><link rel=canonical href=https://adammitha.com/post/backtracking/><script type=text/javascript src=https://adammitha.com/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ=" crossorigin=anonymous></script><script type=text/javascript src=https://adammitha.com/js/anatole-theme-switcher.min.8ef71e0fd43f21a303733dbbecae5438b791d2b826c68a9883bd7aa459a076d2.js integrity="sha256-jvceD9Q/IaMDcz277K5UOLeR0rgmxoqYg716pFmgdtI=" crossorigin=anonymous></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://adammitha.com/images/site-feature-image.png"><meta name=twitter:title content="Tackling Backtracking Search"><meta name=twitter:description content="Approach to solving backtracking search problems in Go."></head><body><div class="sidebar animated fadeInDown"><div class=logo-title><div class=title><img src=https://adammitha.com/images/profile.jpeg alt="profile picture"><h3 title><a href=/>Adam Mitha</a></h3><div class=description><p>Software Developer</p></div></div></div><ul class=social-links><li><a href=https://www.linkedin.com/in/adam-mitha-94286092/ rel=me aria-label=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/adammitha rel=me aria-label=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=https://twitter.com/adam_mitha rel=me aria-label=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:adam.mitha@gmail.com rel=me aria-label=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul><div class=footer><div class=by_farbox>&copy; Adam Mitha 2021</div></div></div><div class=main><div class="page-top animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a><ul class=nav id=navMenu><li><a href=/ title>Home</a></li><li><a href=/post/ title>Posts</a></li><li><a href=/about/ title>About</a></li><li class=theme-switch-item><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></div><div class=autopagerize_page_element><div class=content><div class="post animated fadeInDown"><div class=post-content><div class=post-title><h3>Tackling Backtracking Search</h3><div class=info><em class="fas fa-calendar-day"></em><span class=date>Thu, Mar 11, 2021</span>
<em class="fas fa-stopwatch"></em><span class=reading-time>3-minute read</span></div></div><h2 id=introduction>Introduction</h2><p>Anyone&rsquo;s who&rsquo;s taken CPSC 110 at UBC probably experiences a sense of dread when they hear about search problems. This is not an unreasonable response — backtracking search problems are among the hardest that you&rsquo;ll encounter on interview practice sites like <a href=http://www.leetcode.com>Leetcode</a>, so it seems almost cruel to expect first year computer science students (many of whom have never programmed in their life) to be able to tackle them. However, like with any other problem that you&rsquo;ll encounter in 110 (or in software engineering generally), having a structured approach to backtracking can help turn a seemingly gargantuan task into one that&rsquo;s quite digestible. There&rsquo;s only one way to eat an elephant — one bite at a time.</p><h3 id=premise>Premise</h3><p>The premise of backtracking search problems is that we are generating an n-ary (or arbitrary-arity) tree of potential solutions to our problem, and then searching through that generated tree to find our solution. As a quick reminder, an n-ary tree is a tree where each node can have an arbitrary number of children. This differs from a binary search tree, where each node has exactly two children.</p><h3 id=illustrative-exampe-n-queens>Illustrative exampe: N-Queens</h3><p>I&rsquo;ll be using the <a href=https://developers.google.com/optimization/cp/queens>N-Queens</a> problem to demonstrate my approach to backtracking search problems:</p><blockquote><p>How can N queens be placed on an NxN chessboard so that no two of them attack each other?</p></blockquote><p>For example, 4 queens can be placed on a 4x4 chess board like this:</p><figure><img src=/images/sol_4x4_b.png></figure><p>While this may seem intimidating at first, as you&rsquo;ll see a structured approach will make this problem much easier.</p><h3 id=tools>Tools</h3><p>I&rsquo;ll be using <a href=https://golang.org/>Go</a> to develop my solution to this problem, but I won&rsquo;t be using any third-party packages so you should be able to reproduce my solution in your language of choice.</p><h2 id=step-1-modelling-the-search-state>Step 1: Modelling the search state</h2><p>The first step in any backtracking search problem is to determine what we are searching for, and how to best represent that in a data structure. In other words, what will represent the &lsquo;node&rsquo; in the n-ary tree of solutions we are searching through.</p><p>In the context of the N-queens problem, we are looking for a chess board that contains N-queens that cannot attack each other. In short, we are searching for a chess board, so that&rsquo;s what we&rsquo;ll model as our search state. A chess board is essentially a grid, which can be represented using a 2-dimensional array. We also need a way to represent which squares in the board are occupied. This can be done using a boolean value — <code>true</code> means a queen is in that square, and <code>false</code> means it&rsquo;s empty.</p><p>A simple function can be used to generate an empty board of size N x N.</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=c1>// Board is a two-dimensional array of boolean values representing a chess board
</span><span class=c1></span><span class=kd>type</span> <span class=nx>Board</span> <span class=p>[][]</span><span class=kt>bool</span>

<span class=c1>// NewBoard creates an empty Board of size n x n
</span><span class=c1></span><span class=kd>func</span> <span class=nf>NewBoard</span><span class=p>(</span><span class=nx>n</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Board</span> <span class=p>{</span>
  <span class=nx>board</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=nx>Board</span><span class=p>,</span> <span class=nx>n</span><span class=p>)</span>
  
  <span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
    <span class=nx>board</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=p>=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span> <span class=nx>n</span><span class=p>)</span>
    <span class=k>for</span> <span class=nx>j</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>j</span> <span class=p>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span> <span class=p>{</span>
      <span class=nx>board</span><span class=p>[</span><span class=nx>i</span><span class=p>][</span><span class=nx>j</span><span class=p>]</span> <span class=p>=</span> <span class=kc>false</span>
    <span class=p>}</span>
  <span class=p>}</span>
  
  <span class=k>return</span> <span class=o>&amp;</span><span class=nx>board</span>
<span class=p>}</span>
</code></pre></div><h2 id=step-2-generating-child-nodes>Step 2: Generating child nodes</h2><h2 id=step-3-scaffolding-the-search-function>Step 3: Scaffolding the search function</h2><p>Now that we&rsquo;ve established the &lsquo;node&rsquo; for the tree we are searching, we can start laying out the scaffolding for a function that will search through the tree for our solution.</p><p>At a high level, this function consumes a board and will do the following:</p><ol><li>Check the board to see if it&rsquo;s solved. If it is, return it. If not, proceed to step 2.</li><li></li></ol><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=nf>search</span><span class=p>(</span><span class=nx>board</span> <span class=o>*</span><span class=nx>Board</span><span class=p>)</span> <span class=o>*</span><span class=nx>Board</span><span class=p>,</span> <span class=nx>err</span> <span class=p>{</span>
  <span class=k>if</span> <span class=nx>board</span><span class=p>.</span><span class=nf>solved</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=nx>board</span>
  <span class=p>}</span>
  
  <span class=nx>nextBoards</span> <span class=o>:=</span> <span class=nx>board</span><span class=p>.</span><span class=nf>nextBoards</span><span class=p>()</span>
  
  <span class=k>for</span> <span class=nx>board</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>nextBoards</span> <span class=p>{</span>
    <span class=nx>solution</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>search</span><span class=p>(</span><span class=nx>board</span><span class=p>)</span>
    <span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
      <span class=k>continue</span>
    <span class=p>}</span>
    
    <span class=k>return</span> <span class=nx>solution</span>
  <span class=p>}</span>
  
  <span class=k>return</span> <span class=kc>nil</span><span class=p>,</span> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;Unable to find a solution!&#34;</span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div></div><div class=post-footer><div class=info><span class=separator><a class=category href=/categories/tutorials/>tutorials</a></span>
<span class=separator><a class=tag href=/tags/go/>Go</a></span></div></div></div></div></div></div><script type=text/javascript src=https://adammitha.com/js/jquery.min.64d0083866906099f942140bc1c5cba4b1bf65783c52e4a63c5c46bf9dbc41f4.js integrity="sha256-ZNAIOGaQYJn5QhQLwcXLpLG/ZXg8UuSmPFxGv528QfQ=" crossorigin=anonymous></script><script type=text/javascript src=https://adammitha.com/js/bundle.min.45159b0e20ba3878972e064b7edc464c31a9e35a0d0a6a71e3fec84efdbe2ea5.js integrity="sha256-RRWbDiC6OHiXLgZLftxGTDGp41oNCmpx4/7ITv2+LqU=" crossorigin=anonymous></script><script type=text/javascript src=https://adammitha.com/js/medium-zoom.min.2d6fd0be87fa98f0c9b4dc2536b312bbca48757f584f6ea1f394abc9bcc38fbc.js integrity="sha256-LW/Qvof6mPDJtNwlNrMSu8pIdX9YT26h85SrybzDj7w=" crossorigin=anonymous></script></body></html>